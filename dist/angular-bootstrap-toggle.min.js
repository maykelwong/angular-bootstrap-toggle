!function(){"use strict";angular.module("ui.toggle",[]).value("$toggleSuppressError",!1).constant("toggleConfig",{on:"On",off:"Off",size:"",onstyle:"btn-primary",offstyle:"btn-default",style:""}).controller("ToggleController",["$scope","$attrs","$interpolate","$log","toggleConfig","$toggleSuppressError",function(e,t,n,l,s,a){var i=this,o={$setViewValue:angular.noop};angular.forEach(["on","off","size","onstyle","offstyle","style"],function(l,a){i[l]=angular.isDefined(t[l])?a<6?n(t[l])(e.$parent):e.$parent.$eval(t[l]):s[l]}),i.disabled=!!angular.isDefined(t.ngDisabled)&&e.$parent.$eval(t.ngDisabled),this.init=function(n){o=n,i.computeStyle(),o.$render=function(){i.toggle()},o.$viewChangeListeners.push(function(){e.$eval(t.ngChange)})},this.computeStyle=function(){var t=i.element.find("label");angular.element(t[0]).html(i.on),angular.element(t[1]).html(i.off);var n=i.element.find("span"),l=i.width||Math.max(t[0].offsetWidth,t[1].offsetWidth)+n[0].offsetWidth/2,s=i.height||Math.max(t[0].offsetHeight,t[1].offsetHeight),a=i.element.find("div"),o=a[0].offsetWidth,r=a[1].offsetHeight;e.wrapperStyle={},o<l?e.wrapperStyle.width=l+"px":e.wrapperStyle.width=o+"px",r<s&&"btn-xs"!==i.size&&"btn-sm"!==i.size?e.wrapperStyle.height=s+"px":e.wrapperStyle.height=r+"px",e.onClass=[i.onstyle,i.size,"toggle-on"],e.offClass=[i.offstyle,i.size,"toggle-off"],e.handleClass=[i.size,"toggle-handle"]},this.toggle=function(){angular.isDefined(o.$viewValue)?this.isOn=o.$viewValue:this.isOn=!1,this.isOn?e.wrapperClass=[i.onstyle,i.size,i.style]:e.wrapperClass=[i.offstyle,"off ",i.size,i.style]},e.onSwitch=function(e){i.disabled||(o.$setViewValue(!o.$viewValue),o.$render())},e.isDisabled=function(){return i.disabled},angular.forEach(["ngModel"],function(n){var l=e.$parent.$watch(t[n],function(e){o.$render()});e.$parent.$on("$destroy",function(){l()})}),angular.forEach(["on","off","size","onstyle","offstyle","style"],function(e){t.$observe(e,function(t){i[e]!==t&&(i[e]=t,i.computeStyle())})}),e.$watch(function(){return e.$parent.$eval(t.ngDisabled)},function(e,t){e!==t&&(i.disabled=e)})}]).directive("toggle",function(){return{restrict:"E",transclude:!0,template:'<div class="toggle btn" ng-class="wrapperClass" ng-style="wrapperStyle" ng-click="onSwitch()" ng-disabled="isDisabled()"><div class="toggle-group"><label class="btn" ng-class="onClass" ng-disabled="isDisabled()"></label><label class="btn active" ng-class="offClass" ng-disabled="isDisabled()"></label><span class="btn btn-default" ng-class="handleClass" ng-disabled="isDisabled()"></span></div></div>',scope:{bindModel:"=ngModel"},require:["toggle","ngModel"],controller:"ToggleController",controllerAs:"toggle",link:function(e,t,n,l){var s=l[0],a=l[1];s.element=t,s.init(a)}}})}();